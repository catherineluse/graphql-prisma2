# Migration `20200630205101`

This migration has been generated by catherineluse at 6/30/2020, 8:51:01 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Community" DROP CONSTRAINT IF EXiSTS "Community_organizerHandle_fkey",
ALTER COLUMN "organizerHandle" DROP NOT NULL;

ALTER TABLE "public"."Community" ADD FOREIGN KEY ("organizerHandle")REFERENCES "public"."User"("handle") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200630201032..20200630205101
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Comment {
   authorHandle    String?
@@ -22,14 +22,14 @@
 }
 model Community {
   createdAt                DateTime                   @default(now())
-  organizerHandle          String
+  organizerHandle          String?
   description              String?
   id                       Int                        @default(autoincrement()) @id
   name                     String
   url                      String                     @unique
-  Organizer                User                       @relation("OrganizersOfCommunities", fields: [organizerHandle], references: [handle])
+  Organizer                User?                      @relation("OrganizersOfCommunities", fields: [organizerHandle], references: [handle])
   Subscribers              User[]                     @relation("SubscribersOfCommunities", references: [id])
   Discussion               Discussion[]
   SubscribersOfCommunities SubscribersOfCommunities[]
   OrganizersOfCommunities  OrganizersOfCommunities[]
```


